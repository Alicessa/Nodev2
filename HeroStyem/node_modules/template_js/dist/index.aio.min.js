!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):r.template=n()}(this,function(){"use strict";function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function n(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=!!e,null===n)return"null";var t=r(n);if(e&&"number"===t&&isNaN(n))return"nan";if("object"!==t)return t;var o,i;try{o=h.call(n).slice(8,-1),i=o.toLowerCase()}catch(r){return"object"}if("object"!==i){if(e){if("number"===i&&isNaN(n))return"NaN";if("number"===i||"boolean"===i||"string"===i)return o}return i}if(n.constructor==Object)return i;try{if(null===Object.getPrototypeOf(n)||null===n.__proto__)return"object"}catch(r){}try{var u=n.constructor.name;if("string"==typeof u)return u}catch(r){}return"unknown"}function e(r){return"object"===n(r)}function t(r){return"function"===n(r)}function o(r,n){return Object.prototype.hasOwnProperty.call(r,n)}function i(){return M.apply(void 0,arguments)}function u(r){if(!e(r)&&!b(r))throw new TypeError("extend target param must is object");for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++){var t=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];for(var i in t){var c=r[i],a=t[i];if(r!==a&&o(t,i)){var f=void 0;if(a&&(e(a)||(f=b(a)))){var _=void 0;_=f?c&&b(c)?c:[]:c&&e(c)?c:{},r[i]=u(_,a)}else void 0!==a&&(r[i]=a)}}}return r}function c(r){r=String(r).replace(/('|")/g,"\\$1");for(var n=r.split(/\r\n|\n/),e="",t=0;t<n.length;t++)e+=';__code__ += ("'+n[t]+(t===n.length-1?'")\n':'\\n")\n');return e}function a(r,n){void 0===n&&(n=!0),r=String(r),n=!!n;var e,t,o=/^(?:=|(:.*?)=)(.*)$/;return(t=o.exec(r))?(e=t[2],';__code__ += __modifierMap__["'+(t[1]?t[1].slice(1):n?"h":"")+'"](typeof ('+e+') !== "undefined" ? ('+e+') : "")\n'):";"+r+"\n"}function f(r,n){void 0===n&&(n=j);var e=u({},j,n),t=e.sTag,o=e.eTag,i=e.escape;r=String(r);for(var f="",_=r.split(t),s=0,p=_.length;s<p;s++){var l=_[s].split(o);1===l.length?f+=c(l[0]):(f+=a(l[0],i),l[1]&&(f+=c(l[1])))}return f}function _(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return i.apply(null,[{}].concat(r))}function s(r){return r}function p(r){return String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(r,n){"undefined"!=typeof console&&console[r]&&console[r](n)}function g(){}function d(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return i.apply(null,[{}].concat(r))}function m(r,n){void 0===n&&(n=N);var e=f(r,n),t='\n    var html = (function (__data__, __modifierMap__) {\n        var __str__ = "", __code__ = "";\n        for(var key in __data__) {\n            __str__+=("var " + key + "=__data__[\'" + key + "\'];");\n        }\n        eval(__str__);\n\n'+e+"\n        ;return __code__;\n    }(__data__, __modifierMap__));\n    return html;\n";t=t.replace(/[\r]/g," ");try{var o=new Function("__data__","__modifierMap__",t);return o.toString=function(){return e},o}catch(r){throw r.temp="function anonymous(__data__, __modifierMap__) {"+t+"}",r}}function y(r,n){function e(e){e=d(L,e);try{var o=t(e,k);return o=n.compress?O(o):o}catch(n){return n.name="RenderError",n.tpl=r,n.render=t.toString(),F(n)()}}void 0===n&&(n=N),n=d(N,n);try{var t=m(r,n)}catch(n){return n.name="CompileError",n.tpl=r,n.render=n.temp,delete n.temp,F(n)}return e.toString=function(){return t.toString()},e}function v(r,e){if("string"!=typeof r)return"";var t=y(r);return"object"!==n(e)?t:t(e)}var h=Object.prototype.toString,b=t(Array.isArray)?Array.isArray:function(r){return"array"===n(r)},M=t(Object.assign)?Object.assign:function(r){if(!e(r))throw new TypeError("assign first param must is object");for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++){var t=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(e(t))for(var i in t)o(t,i)&&(r[i]=t[i])}return r},j={sTag:"<%",eTag:"%>",escape:!0},S={sTag:"<%",eTag:"%>",compress:!1,escape:!0,error:function(){}},T={},w={"":function(r){return s(r)},h:function(r){return p(r)},u:function(r){return encodeURI(r)}};g.config=function(r){return"object"===n(r)&&(S=i(S,r)),_(S)},g.compress=function(r){return String(r).replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")},g.handelError=function(r){function n(){return"template.js error"}var e="template.js error\n\n";for(var t in r)e+="<"+t+">\n"+r[t]+"\n\n";return e+="<message>\n"+r.message+"\n\n",l("error",e),S.error(r),n.toString=function(){return'__code__ = "template.js error"'},n},g.registerFunction=function(r,e){return"string"!=typeof r?_(T):"function"!==n(e)?T[r]:T[r]=e},g.unregisterFunction=function(r){return"string"==typeof r&&(delete T[r],!0)},g.registerModifier=function(r,e){return"string"!=typeof r?_(w):"function"!==n(e)?w[r]:w[r]=e},g.unregisterModifier=function(r){return"string"==typeof r&&(delete w[r],!0)},g.encodeHTML=p,g.functionMap=T,g.modifierMap=w,g.o=S;var E=g.encodeHTML,O=g.compress,F=g.handelError,N=g.o,L=g.functionMap,k=g.modifierMap;return v.config=function(r){return g.config(r)},v.registerFunction=function(r,n){return g.registerFunction(r,n)},v.unregisterFunction=function(r){return g.unregisterFunction(r)},v.registerModifier=function(r,n){return g.registerModifier(r,n)},v.unregisterModifier=function(r){return g.unregisterModifier(r)},v.encodeHTML=E,v.compress=O,v.handelError=F,v.functionMap=L,v.modifierMap=k,v.__encodeHTML=E,v.__compress=O,v.__handelError=F,v.__compile=y,v});
