!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):n.template=r()}(this,function(){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function r(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=!!t,null===r)return"null";var e=n(r);if(t&&"number"===e&&isNaN(r))return"nan";if("object"!==e)return e;var o,u;try{o=l.call(r).slice(8,-1),u=o.toLowerCase()}catch(n){return"object"}if("object"!==u){if(t){if("number"===u&&isNaN(r))return"NaN";if("number"===u||"boolean"===u||"string"===u)return o}return u}if(r.constructor==Object)return u;try{if(null===Object.getPrototypeOf(r)||null===r.__proto__)return"object"}catch(n){}try{var i=r.constructor.name;if("string"==typeof i)return i}catch(n){}return"unknown"}function t(n){return"object"===r(n)}function e(n){return"function"===r(n)}function o(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function u(){return p.apply(void 0,arguments)}function i(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return u.apply(null,[{}].concat(n))}function c(n){return n}function f(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(n,r){"undefined"!=typeof console&&console[n]&&console[n](r)}function s(){}var l=Object.prototype.toString,p=(e(Array.isArray)&&Array.isArray,e(Object.assign)?Object.assign:function(n){if(!t(n))throw new TypeError("assign first param must is object");for(var r=0;r<(arguments.length<=1?0:arguments.length-1);r++){var e=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];if(t(e))for(var u in e)o(e,u)&&(n[u]=e[u])}return n}),g={sTag:"<%",eTag:"%>",compress:!1,escape:!0,error:function(){}},y={},m={"":function(n){return c(n)},h:function(n){return f(n)},u:function(n){return encodeURI(n)}};return s.config=function(n){return"object"===r(n)&&(g=u(g,n)),i(g)},s.compress=function(n){return String(n).replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")},s.handelError=function(n){function r(){return"template.js error"}var t="template.js error\n\n";for(var e in n)t+="<"+e+">\n"+n[e]+"\n\n";return t+="<message>\n"+n.message+"\n\n",a("error",t),g.error(n),r.toString=function(){return'__code__ = "template.js error"'},r},s.registerFunction=function(n,t){return"string"!=typeof n?i(y):"function"!==r(t)?y[n]:y[n]=t},s.unregisterFunction=function(n){return"string"==typeof n&&(delete y[n],!0)},s.registerModifier=function(n,t){return"string"!=typeof n?i(m):"function"!==r(t)?m[n]:m[n]=t},s.unregisterModifier=function(n){return"string"==typeof n&&(delete m[n],!0)},s.encodeHTML=f,s.functionMap=y,s.modifierMap=m,s.o=g,s});
